#!/bin/bash

if $(docker ps | grep -q adb-daemon); then
  echo 'adb-daemon container is running!'
elif $(docker ps -a | grep -q adb-daemon); then
  echo 'adb-daemon container has been created already, starting it!'
  docker start adb-daemon
else
  echo 'starting adb-daemon'
  docker run -d \
             --privileged \
             -v /dev/bus/usb:/dev/bus/usb \
             --name adb-daemon \
             -p 5037:5037 \
             sorccu/adb
fi
